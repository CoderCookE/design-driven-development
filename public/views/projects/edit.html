<section data-ng-controller="ProjectsController" data-ng-init="findOne()">

	<div class="row">
		<div class="col-md-12">
			<h2>Edit Project: {{project.title}}</h2>
      <p class="info">
    <span>Uploaded: {{project.created | date:'MMM d, yyyy @ h:mm a'}}</span>
    <br>
    <a class="btn btn-icon" href="{{projectID}}">
      <i class="fa fa-toggle-left"></i> Back to Project
    </a>
    <a class="btn btn-icon" data-ng-click="remove(project);">

        <i class="fa fa-times"></i> Delete Project
    </a>
		</div>
	</div>

	<div class="row row-forms">

		<form class="form-horizontal col-sm-11 form-padding" role="form" data-ng-submit="update()">
      <div class="col-sm-6 form-padding">
        <div class="form-group">
					<label for="title" class="col-sm-2 control-label form-padding">Title</label>
					<div class="col-sm-10 form-padding">
						<input type="text" class="form-control" data-ng-model="project.title" id="title" placeholder="Title" name="title" required>
					</div>
        </div>

        <div class="form-group">
          <label for="query" class="col-sm-3 control-label form-padding">Current collaborators<br></label>
          <div ng-repeat="user in project.users">
            <div class="btn btn-primary">{{user.name}}</div>
          </div>
        </div>

				<div class="form-group">
					<div class="col-sm-offset-2 col-sm-10 form-padding">
						<button type="submit" class="btn btn-default">Save</button>
					</div>
				</div>
  		</div>

      <!-- <div class="form-group">
          <label for="userToAdd" class="col-sm-2 control-label form-padding">Users</label>
          <div class="col-sm-10 form-padding">
            <select class="form-control" ng-model="userToAdd" id="userToAdd" name="userToAdd" ng-options="user._id as user.name for user in users">
              <option>
                Choose a user
              </option>
            </select>
          </div>
        </div> -->

      <!-- second column -->
      <div class="col-sm-6 form-padding">

        <div data-ng-init="findUsers()">
          <!-- finds all users -->
          <label for="query" class="col-sm-6 control-label form-padding">Add collaborators:</label>
          <div class="col-sm-6 form-padding">
            <input class="form-control" type="text" ng-model="query.name" id="query"/>
          </div>
          <div>
            <ul ng-repeat="user in users | filter:query">
              <span ng-if="query">
                <input type="checkbox" ng-click="selectCollaborator(user)">{{user.name}} ( {{user.username}} )</input>
              </span>
            </ul>
          </div>
        </div>

      </div> <!-- end second column -->
    </form>
	</div>
</section>